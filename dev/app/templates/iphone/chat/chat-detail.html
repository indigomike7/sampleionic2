<ion-modal-view ng-controller="ChatDetailCtrl">
  <ion-header-bar align-title="center" class="bar-positive">
    <button class="button icon-left ion-ios-arrow-left button-clear" ng-click="hideChat()"></button>
    <h1 class="title" ng-bind-html="chatObj.getTitle()"></h1>
  </ion-header-bar>
  <ion-content class="has-header has-footer" delegate-handle="chat-message-list">
    <chat-message-list-dir></chat-message-list-dir>
  </ion-content>
  <div class="bar bar-subfooter chat-attachment-preview" ng-if="attachment_id.link != '' && attachment_id.thread_id == thread_id">
    <div class="item item-avatar " href-dir url="{{attachment_id.link}}">
      <img ng-if="attachment_id.default_image != ''" ng-src="{{attachment_id.default_image}}">
      <h2 class="item-icon-right">
        <i class="icon ion-ios-close-outline" ng-click="removeAttachLink()"></i>
        {{attachment_id.title}}
      </h2>
      <p ng-html-compile="attachment_id.description" class="item-icon-right"></p>
    </div>
  </div>
  <form keyboard-attach class="bar bar-footer item-input-inset ynchat-form-message" ng-submit="onSendMessage()">
    <i class="icon ion-happy-outline" ng-click="showSmilePopover($event)"></i>
    <i class="icon ion-link" ng-click="showUrlPopover($event)"></i>
    <div class="item-input-wrapper">
      <!--<textarea class="input-message" rows="1" placeholder="{{'Your Message' | translate}}" ng-model="messageData.sMessage" ng-trim="false"></textarea>-->
      <input type="text" placeholder="{{'Your Message' | translate}}" ng-model="messageData.sMessage" />
    </div>
    <input type="submit" class="button button-send" ng-class="{disabled: (!(messageData.sMessage.trim() || attachment_id.link)) || bNoConnection}" value="" />
  </form>
</ion-modal-view>